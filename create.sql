CREATE TABLE ANALYSISEVENT (ID INTEGER AUTO_INCREMENT NOT NULL, CREATEDAT DATETIME, TRANSACTION_ID INTEGER, TOOL_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE ANALYSISEVENTPARAMETER (ID INTEGER AUTO_INCREMENT NOT NULL, PARAMETERKEY VARCHAR(255), PARAMETERVALUE VARCHAR(255), EVENT_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE Friend (ID INTEGER AUTO_INCREMENT NOT NULL, MUTUAL TINYINT(1) default 0, VISIBLE TINYINT(1) default 0, id_1 INTEGER, id_2 INTEGER, PRIMARY KEY (ID))
CREATE TABLE INCOMINGWORKFLOW (ID INTEGER AUTO_INCREMENT NOT NULL, CREATEDAT DATETIME, NAME VARCHAR(255), RECEIVER_ID INTEGER, SENDER_ID INTEGER, WORKFLOW_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE NETWORK (ID INTEGER AUTO_INCREMENT NOT NULL, NAME VARCHAR(255), owner INTEGER, PRIMARY KEY (ID))
CREATE TABLE SETTING (ID INTEGER AUTO_INCREMENT NOT NULL, data_key VARCHAR(255), data_value VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TOOL (ID INTEGER AUTO_INCREMENT NOT NULL, DESCRIPTION VARCHAR(255), MOSTCOMMONPARAMETERS VARCHAR(255), MOSTCOMMONPARAMETERSCOUNT INTEGER, NAME VARCHAR(255), NUMRATING INTEGER, SUMRATING INTEGER, USAGECOUNT INTEGER, WFCOUNTHEAD INTEGER, PRIMARY KEY (ID))
CREATE TABLE TOOLRATING (ID INTEGER AUTO_INCREMENT NOT NULL, CREATEDAT DATETIME, RATING INTEGER, TOOL_ID INTEGER, CREATOR_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE TOOLCOMMENT (ID INTEGER AUTO_INCREMENT NOT NULL, COMMENT VARCHAR(255), CREATEDAT DATETIME, CREATOR_ID INTEGER, TOOL_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE TRANSACTION (ID INTEGER AUTO_INCREMENT NOT NULL, CLIENTID VARCHAR(255), DATASETNAME VARCHAR(255), DATE DATETIME, HOSTNAME VARCHAR(255), USER_ID INTEGER, WORKFLOW_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE registration (ID INTEGER AUTO_INCREMENT NOT NULL, ADDR1 VARCHAR(50), ADDR2 VARCHAR(50), CITY VARCHAR(50), CREATEDAT DATETIME, DATAVISIBILITY INTEGER, EMAIL VARCHAR(50), first_name VARCHAR(50) NOT NULL, INTERESTS LONGTEXT, lab_affiliation VARCHAR(100) NOT NULL, last_name VARCHAR(50) NOT NULL, LOGDATA INTEGER, online_status INTEGER, PASSWORD VARCHAR(50) NOT NULL, PHONE VARCHAR(50), STATE VARCHAR(50), USERNAME VARCHAR(50) NOT NULL, work_title VARCHAR(50), ZIPCODE VARCHAR(7), ROOTFOLDER_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE User_Network (ID INTEGER AUTO_INCREMENT NOT NULL, VERIFIED TINYINT(1) default 0, VISIBLE TINYINT(1) default 0, network_id INTEGER, user_id INTEGER, PRIMARY KEY (ID))
CREATE TABLE USERWORKFLOW (ID INTEGER AUTO_INCREMENT NOT NULL, CREATEDAT DATETIME, NAME VARCHAR(255), FOLDER_ID INTEGER, OWNER_ID INTEGER, WORKFLOW_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE WORKFLOW (ID INTEGER AUTO_INCREMENT NOT NULL, CREATEDAT DATETIME, NUMRATING INTEGER, SUMRATING INTEGER, USAGECOUNT INTEGER, CREATIONTRANSACTION_ID INTEGER, CREATOR_ID INTEGER, PARENT_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE WORKFLOWTOOL (ID INTEGER AUTO_INCREMENT NOT NULL, CARDINALITY INTEGER, TOOL_ID INTEGER, WORKFLOW_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE WORKFLOWRATING (ID INTEGER AUTO_INCREMENT NOT NULL, CREATEDAT DATETIME, RATING INTEGER, WORKFLOW_ID INTEGER, CREATOR_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE WORKFLOWCOMMENT (ID INTEGER AUTO_INCREMENT NOT NULL, COMMENT VARCHAR(255), CREATEDAT DATETIME, CREATOR_ID INTEGER, WORKFLOW_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE WORKFLOWFOLDER (ID INTEGER AUTO_INCREMENT NOT NULL, NAME VARCHAR(255), PARENT_ID INTEGER, OWNER_ID INTEGER, PRIMARY KEY (ID))
ALTER TABLE ANALYSISEVENT ADD CONSTRAINT FK_ANALYSISEVENT_TOOL_ID FOREIGN KEY (TOOL_ID) REFERENCES TOOL (ID)
ALTER TABLE ANALYSISEVENT ADD CONSTRAINT FK_ANALYSISEVENT_TRANSACTION_ID FOREIGN KEY (TRANSACTION_ID) REFERENCES TRANSACTION (ID)
ALTER TABLE ANALYSISEVENTPARAMETER ADD CONSTRAINT FK_ANALYSISEVENTPARAMETER_EVENT_ID FOREIGN KEY (EVENT_ID) REFERENCES ANALYSISEVENT (ID)
ALTER TABLE Friend ADD CONSTRAINT FK_Friend_id_2 FOREIGN KEY (id_2) REFERENCES registration (ID)
ALTER TABLE Friend ADD CONSTRAINT FK_Friend_id_1 FOREIGN KEY (id_1) REFERENCES registration (ID)
ALTER TABLE INCOMINGWORKFLOW ADD CONSTRAINT FK_INCOMINGWORKFLOW_RECEIVER_ID FOREIGN KEY (RECEIVER_ID) REFERENCES registration (ID)
ALTER TABLE INCOMINGWORKFLOW ADD CONSTRAINT FK_INCOMINGWORKFLOW_SENDER_ID FOREIGN KEY (SENDER_ID) REFERENCES registration (ID)
ALTER TABLE INCOMINGWORKFLOW ADD CONSTRAINT FK_INCOMINGWORKFLOW_WORKFLOW_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES WORKFLOW (ID)
ALTER TABLE NETWORK ADD CONSTRAINT FK_NETWORK_owner FOREIGN KEY (owner) REFERENCES registration (ID)
ALTER TABLE TOOLRATING ADD CONSTRAINT FK_TOOLRATING_CREATOR_ID FOREIGN KEY (CREATOR_ID) REFERENCES registration (ID)
ALTER TABLE TOOLRATING ADD CONSTRAINT FK_TOOLRATING_TOOL_ID FOREIGN KEY (TOOL_ID) REFERENCES TOOL (ID)
ALTER TABLE TOOLCOMMENT ADD CONSTRAINT FK_TOOLCOMMENT_TOOL_ID FOREIGN KEY (TOOL_ID) REFERENCES TOOL (ID)
ALTER TABLE TOOLCOMMENT ADD CONSTRAINT FK_TOOLCOMMENT_CREATOR_ID FOREIGN KEY (CREATOR_ID) REFERENCES registration (ID)
ALTER TABLE TRANSACTION ADD CONSTRAINT FK_TRANSACTION_USER_ID FOREIGN KEY (USER_ID) REFERENCES registration (ID)
ALTER TABLE TRANSACTION ADD CONSTRAINT FK_TRANSACTION_WORKFLOW_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES WORKFLOW (ID)
ALTER TABLE registration ADD CONSTRAINT FK_registration_ROOTFOLDER_ID FOREIGN KEY (ROOTFOLDER_ID) REFERENCES WORKFLOWFOLDER (ID)
ALTER TABLE User_Network ADD CONSTRAINT FK_User_Network_network_id FOREIGN KEY (network_id) REFERENCES NETWORK (ID)
ALTER TABLE User_Network ADD CONSTRAINT FK_User_Network_user_id FOREIGN KEY (user_id) REFERENCES registration (ID)
ALTER TABLE USERWORKFLOW ADD CONSTRAINT FK_USERWORKFLOW_OWNER_ID FOREIGN KEY (OWNER_ID) REFERENCES registration (ID)
ALTER TABLE USERWORKFLOW ADD CONSTRAINT FK_USERWORKFLOW_WORKFLOW_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES WORKFLOW (ID)
ALTER TABLE USERWORKFLOW ADD CONSTRAINT FK_USERWORKFLOW_FOLDER_ID FOREIGN KEY (FOLDER_ID) REFERENCES WORKFLOWFOLDER (ID)
ALTER TABLE WORKFLOW ADD CONSTRAINT FK_WORKFLOW_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES WORKFLOW (ID)
ALTER TABLE WORKFLOW ADD CONSTRAINT FK_WORKFLOW_CREATIONTRANSACTION_ID FOREIGN KEY (CREATIONTRANSACTION_ID) REFERENCES TRANSACTION (ID)
ALTER TABLE WORKFLOW ADD CONSTRAINT FK_WORKFLOW_CREATOR_ID FOREIGN KEY (CREATOR_ID) REFERENCES registration (ID)
ALTER TABLE WORKFLOWTOOL ADD CONSTRAINT FK_WORKFLOWTOOL_TOOL_ID FOREIGN KEY (TOOL_ID) REFERENCES TOOL (ID)
ALTER TABLE WORKFLOWTOOL ADD CONSTRAINT FK_WORKFLOWTOOL_WORKFLOW_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES WORKFLOW (ID)
ALTER TABLE WORKFLOWRATING ADD CONSTRAINT FK_WORKFLOWRATING_WORKFLOW_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES WORKFLOW (ID)
ALTER TABLE WORKFLOWRATING ADD CONSTRAINT FK_WORKFLOWRATING_CREATOR_ID FOREIGN KEY (CREATOR_ID) REFERENCES registration (ID)
ALTER TABLE WORKFLOWCOMMENT ADD CONSTRAINT FK_WORKFLOWCOMMENT_CREATOR_ID FOREIGN KEY (CREATOR_ID) REFERENCES registration (ID)
ALTER TABLE WORKFLOWCOMMENT ADD CONSTRAINT FK_WORKFLOWCOMMENT_WORKFLOW_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES WORKFLOW (ID)
ALTER TABLE WORKFLOWFOLDER ADD CONSTRAINT FK_WORKFLOWFOLDER_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES WORKFLOWFOLDER (ID)
ALTER TABLE WORKFLOWFOLDER ADD CONSTRAINT FK_WORKFLOWFOLDER_OWNER_ID FOREIGN KEY (OWNER_ID) REFERENCES registration (ID)
